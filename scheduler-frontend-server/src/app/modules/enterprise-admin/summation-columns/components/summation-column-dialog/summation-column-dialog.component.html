<div>

  <mat-tab-group mat-align-tabs="center"
                 [dynamicHeight]="false">

    <mat-tab label="General">

      <ng-template matTabContent>
        <div class="patterns-general-panel">
          <mat-form-field>
            <input matInput
                   class="input-pattern-name"
                   placeholder="Summation column name"
                   [(ngModel)]="dto.parent.name"
                   required>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Summation type</mat-label>
            <mat-select [(ngModel)]="dto.parent.columnType"
                        required>
              <mat-option *ngFor="let type of columnTypes"
                          [value]="type">
                {{type}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-select [(ngModel)]="dto.parent.specialCalendarDateTypes"
                        placeholder="Special Date Types"
                        multiple>
              <mat-option *ngFor="let type of dateTypes"
                          [value]="type">
                {{type}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </ng-template>

    </mat-tab>

    <mat-tab label="Units">

      <ng-template matTabContent>
        <div cdkDropList
             class="pattern-units-panel"
             (cdkDropListDropped)="drop($event)">
          <app-summation-range-unit class="pattern-unit"
                            *ngFor="let unit of dto.collection"
                                    [dayTypes]="dayTypes"
                                    [child]="unit"
                            (onDelete)="delete($event)"
                            cdkDrag>
            <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
          </app-summation-range-unit>
          <div class="add-button"
               (click)="addChild()">+</div>
        </div>
      </ng-template>

    </mat-tab>

  </mat-tab-group>

  <mat-dialog-actions>
    <button class="mat-raised-button"
            (click)="close()">Close</button>
    <button class="mat-raised-button mat-primary"
            [disabled]="!dto.parent.name || !dto.parent.columnType"
            type="submit"
            (click)="submit()">Save</button>
  </mat-dialog-actions>
</div>
